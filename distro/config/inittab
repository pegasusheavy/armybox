# /etc/inittab - ArmyLinux init configuration
#
# Format: id:runlevels:action:process
#
# Actions:
#   sysinit    - Run during system initialization
#   respawn    - Restart process when it exits
#   askfirst   - Like respawn, but ask before starting
#   wait       - Wait for process to complete
#   once       - Run once
#   ctrlaltdel - Run on Ctrl+Alt+Del
#   shutdown   - Run during shutdown

# System initialization
::sysinit:/bin/mount -t proc proc /proc
::sysinit:/bin/mount -t sysfs sysfs /sys
::sysinit:/bin/mount -t devtmpfs devtmpfs /dev
::sysinit:/bin/mkdir -p /dev/pts /dev/shm
::sysinit:/bin/mount -t devpts devpts /dev/pts
::sysinit:/bin/mount -t tmpfs tmpfs /dev/shm
::sysinit:/bin/mount -t tmpfs tmpfs /run
::sysinit:/bin/mount -t tmpfs tmpfs /tmp
::sysinit:/bin/hostname armylinux
::sysinit:/sbin/sysctl -p /etc/sysctl.conf

# Run init scripts
::sysinit:/etc/init.d/rcS

# Start getty on virtual consoles
tty1::respawn:/sbin/getty 38400 tty1
tty2::respawn:/sbin/getty 38400 tty2
tty3::respawn:/sbin/getty 38400 tty3
tty4::respawn:/sbin/getty 38400 tty4

# Serial console (for VMs and embedded)
ttyS0::respawn:/sbin/getty -L 115200 ttyS0 vt100
ttyAMA0::respawn:/sbin/getty -L 115200 ttyAMA0 vt100

# Handle Ctrl+Alt+Del
::ctrlaltdel:/sbin/reboot

# Shutdown sequence
::shutdown:/etc/init.d/rcK
::shutdown:/bin/umount -a -r
::shutdown:/sbin/swapoff -a
