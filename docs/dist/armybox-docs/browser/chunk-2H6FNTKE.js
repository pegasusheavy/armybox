import{c as r}from"./chunk-QUIORWIO.js";import"./chunk-DRX2FLHU.js";import{Aa as l,La as i,Ma as t,Wa as e}from"./chunk-KVULZ7C4.js";var d=class m{static \u0275fac=function(n){return new(n||m)};static \u0275cmp=l({type:m,selectors:[["app-benchmarks"]],decls:335,vars:0,consts:[[1,"py-16","px-6"],[1,"max-w-4xl","mx-auto"],[1,"mb-12"],[1,"text-4xl","font-bold","text-army-900","mb-4"],[1,"text-army-600"],[1,"text-sm","text-army-500","mt-2"],["routerLink","/comparison",1,"text-camo-olive","hover:underline","font-medium"],[1,"mt-6","p-4","rounded-lg","bg-gradient-to-r","from-camo-olive/10","to-camo-brown/10","border","border-camo-olive/20"],[1,"flex","items-center","gap-4","flex-wrap"],[1,"flex","items-center","gap-2"],[1,"text-2xl"],[1,"font-semibold","text-army-900"],[1,"text-sm","text-army-700"],[1,"text-green-600"],[1,"text-sm","text-army-600"],[1,"mb-16"],[1,"grid","md:grid-cols-4","gap-6"],[1,"p-6","rounded-xl","border","border-army-200","bg-white","text-center"],[1,"text-4xl","font-bold","text-camo-olive","mb-2"],[1,"text-4xl","font-bold","text-army-900","mb-2"],[1,"text-4xl","font-bold","text-green-600","mb-2"],[1,"text-2xl","font-semibold","text-army-900","mb-6"],[1,"overflow-x-auto"],[1,"w-full","text-sm"],[1,"border-b","border-army-200","text-left"],[1,"py-3","pr-4","font-semibold","text-army-900"],[1,"py-3","font-semibold","text-green-600"],[1,"divide-y","divide-army-100"],[1,"py-3","pr-4","text-army-700"],[1,"py-3","pr-4","text-army-500","text-xs"],[1,"py-3","pr-4","font-mono","text-army-900"],[1,"py-3","pr-4","font-mono","text-army-500"],[1,"py-3","font-semibold","text-army-600"],[1,"py-3","text-green-600","font-medium"],[1,"py-3","text-army-600"],[1,"p-6","rounded-xl","border","border-army-200","bg-white"],[1,"text-army-600","mb-4"],[1,"bg-army-100","px-1","rounded"],[1,"grid","md:grid-cols-3","gap-4","mb-6"],[1,"p-4","bg-camo-olive/10","rounded-lg","border","border-camo-olive/30"],[1,"text-2xl","font-bold","text-camo-olive"],[1,"text-xs","text-green-600","mt-1"],[1,"p-4","bg-army-50","rounded-lg"],[1,"text-2xl","font-bold","text-army-900"],[1,"text-sm","text-army-500"],[1,"grid","md:grid-cols-2","gap-4"],[1,"p-4","border","border-army-200","rounded-lg","bg-white"],[1,"font-medium","text-army-900","mb-2"],[1,"bg-army-900","rounded-xl","p-5","font-mono","text-sm","overflow-x-auto"],[1,"text-army-400","mb-3"],[1,"text-army-100"],[1,"text-army-500"],[1,"text-army-400","mt-4","mb-3"]],template:function(n,x){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e(4,"Benchmarks"),t(),i(5,"p",4),e(6," Performance comparison against BusyBox 1.37.0 on Linux x86_64 (WSL2). Tests run on real workloads ranging from 100K to 1M lines. "),t(),i(7,"p",5),e(8," Looking for feature comparisons? See the "),i(9,"a",6),e(10,"full comparison page"),t(),e(11,". "),t(),i(12,"div",7)(13,"div",8)(14,"div",9)(15,"span",10),e(16,"\u{1F680}"),t(),i(17,"span",11),e(18,"Key Finding:"),t()(),i(19,"div",12)(20,"strong",13),e(21,"6 applets faster than BusyBox"),t(),e(22," (grep 2.17x, wc 2x, sort 1.98x, awk 1.83x, tr 1.5x, sed 1.33x) "),t(),i(23,"div",14),e(24,"|"),t(),i(25,"div",12)(26,"strong"),e(27,"8+ applets"),t(),e(28," at parity "),t()()()(),i(29,"section",15)(30,"div",16)(31,"div",17)(32,"div",18),e(33,"201"),t(),i(34,"div",14),e(35,"Total Applets"),t()(),i(36,"div",17)(37,"div",19),e(38,"311 KB"),t(),i(39,"div",14),e(40,"Release Binary"),t()(),i(41,"div",17)(42,"div",20),e(43,"118 KB"),t(),i(44,"div",14),e(45,"UPX Compressed"),t()(),i(46,"div",17)(47,"div",19),e(48,"~1.75 KB"),t(),i(49,"div",14),e(50,"Per Applet"),t()()()(),i(51,"section",15)(52,"h2",21),e(53,"\u2705 Faster than BusyBox"),t(),i(54,"div",22)(55,"table",23)(56,"thead")(57,"tr",24)(58,"th",25),e(59,"Applet"),t(),i(60,"th",25),e(61,"Test"),t(),i(62,"th",25),e(63,"armybox"),t(),i(64,"th",25),e(65,"BusyBox"),t(),i(66,"th",26),e(67,"Speedup"),t()()(),i(68,"tbody",27)(69,"tr")(70,"td",28),e(71,"grep"),t(),i(72,"td",29),e(73,"1M lines"),t(),i(74,"td",30),e(75,"0.06s"),t(),i(76,"td",31),e(77,"0.13s"),t(),i(78,"td",26),e(79,"2.17x faster"),t()(),i(80,"tr")(81,"td",28),e(82,"wc"),t(),i(83,"td",29),e(84,"100K lines"),t(),i(85,"td",30),e(86,"0.02s"),t(),i(87,"td",31),e(88,"0.04s"),t(),i(89,"td",26),e(90,"2.00x faster"),t()(),i(91,"tr")(92,"td",28),e(93,"sort -n"),t(),i(94,"td",29),e(95,"1M numbers"),t(),i(96,"td",30),e(97,"0.57s"),t(),i(98,"td",31),e(99,"1.13s"),t(),i(100,"td",26),e(101,"1.98x faster"),t()(),i(102,"tr")(103,"td",28),e(104,"awk"),t(),i(105,"td",29),e(106,"100K\xD710 iter"),t(),i(107,"td",30),e(108,"1.89s"),t(),i(109,"td",31),e(110,"3.46s"),t(),i(111,"td",26),e(112,"1.83x faster"),t()(),i(113,"tr")(114,"td",28),e(115,"tr"),t(),i(116,"td",29),e(117,"100K lines"),t(),i(118,"td",30),e(119,"0.04s"),t(),i(120,"td",31),e(121,"0.06s"),t(),i(122,"td",26),e(123,"1.50x faster"),t()(),i(124,"tr")(125,"td",28),e(126,"sed"),t(),i(127,"td",29),e(128,"100K lines"),t(),i(129,"td",30),e(130,"0.03s"),t(),i(131,"td",31),e(132,"0.04s"),t(),i(133,"td",26),e(134,"1.33x faster"),t()()()()()(),i(135,"section",15)(136,"h2",21),e(137,"\u2696\uFE0F Near Parity (~1.0x)"),t(),i(138,"div",22)(139,"table",23)(140,"thead")(141,"tr",24)(142,"th",25),e(143,"Applet"),t(),i(144,"th",25),e(145,"Test"),t(),i(146,"th",25),e(147,"armybox"),t(),i(148,"th",25),e(149,"BusyBox"),t(),i(150,"th",32),e(151,"Ratio"),t()()(),i(152,"tbody",27)(153,"tr")(154,"td",28),e(155,"true"),t(),i(156,"td",29),e(157,"1000 invocations"),t(),i(158,"td",30),e(159,"0.28s"),t(),i(160,"td",31),e(161,"0.30s"),t(),i(162,"td",33),e(163,"1.07x faster"),t()(),i(164,"tr")(165,"td",28),e(166,"cat"),t(),i(167,"td",29),e(168,"100K lines"),t(),i(169,"td",30),e(170,"0.01s"),t(),i(171,"td",31),e(172,"0.01s"),t(),i(173,"td",34),e(174,"equal"),t()(),i(175,"tr")(176,"td",28),e(177,"head/tail"),t(),i(178,"td",29),e(179,"100K lines"),t(),i(180,"td",30),e(181,"0.01s"),t(),i(182,"td",31),e(183,"0.01s"),t(),i(184,"td",34),e(185,"equal"),t()(),i(186,"tr")(187,"td",28),e(188,"ls"),t(),i(189,"td",29),e(190,"100 files"),t(),i(191,"td",30),e(192,"0.01s"),t(),i(193,"td",31),e(194,"0.01s"),t(),i(195,"td",34),e(196,"equal"),t()(),i(197,"tr")(198,"td",28),e(199,"md5sum"),t(),i(200,"td",29),e(201,"4MB file"),t(),i(202,"td",30),e(203,"0.01s"),t(),i(204,"td",31),e(205,"0.01s"),t(),i(206,"td",34),e(207,"equal"),t()(),i(208,"tr")(209,"td",28),e(210,"uniq"),t(),i(211,"td",29),e(212,"100K lines"),t(),i(213,"td",30),e(214,"0.01s"),t(),i(215,"td",31),e(216,"0.01s"),t(),i(217,"td",34),e(218,"equal"),t()(),i(219,"tr")(220,"td",28),e(221,"cut"),t(),i(222,"td",29),e(223,"100K lines"),t(),i(224,"td",30),e(225,"0.02s"),t(),i(226,"td",31),e(227,"0.02s"),t(),i(228,"td",34),e(229,"equal"),t()(),i(230,"tr")(231,"td",28),e(232,"dd"),t(),i(233,"td",29),e(234,"4MB copy"),t(),i(235,"td",30),e(236,"0.01s"),t(),i(237,"td",31),e(238,"0.01s"),t(),i(239,"td",34),e(240,"equal"),t()()()()()(),i(241,"section",15)(242,"h2",21),e(243,"Startup Time Analysis"),t(),i(244,"div",35)(245,"p",36),e(246," Measured with 1000 invocations of "),i(247,"code",37),e(248,"true"),t(),e(249,". With "),i(250,"code",37),e(251,"#[no_std]"),t(),e(252,", armybox has minimal runtime initialization: "),t(),i(253,"div",38)(254,"div",39)(255,"div",40),e(256,"~0.28ms"),t(),i(257,"div",14),e(258,"armybox (no_std)"),t(),i(259,"div",41),e(260,"\u2713 Fastest"),t()(),i(261,"div",42)(262,"div",43),e(263,"~0.30ms"),t(),i(264,"div",14),e(265,"BusyBox"),t()(),i(266,"div",42)(267,"div",43),e(268,"~0.30ms"),t(),i(269,"div",14),e(270,"Toybox"),t()()(),i(271,"p",44),e(272," By eliminating the Rust standard library runtime, armybox achieves startup times "),i(273,"strong"),e(274,"7% faster"),t(),e(275," than BusyBox. The binary search applet dispatch adds only nanoseconds of overhead for 201 applets. "),t()()(),i(276,"section",15)(277,"h2",21),e(278,"Optimization Techniques"),t(),i(279,"div",45)(280,"div",46)(281,"h3",47),e(282,"Binary Search Dispatch"),t(),i(283,"p",14),e(284,"O(log n) applet lookup using sorted static array - no heap allocation"),t()(),i(285,"div",46)(286,"h3",47),e(287,"Direct libc Calls"),t(),i(288,"p",14),e(289,"All I/O through direct syscalls - no std::io overhead"),t()(),i(290,"div",46)(291,"h3",47),e(292,"Zero-Copy Parsing"),t(),i(293,"p",14),e(294,"Arguments parsed as &[u8] slices without String allocation"),t()(),i(295,"div",46)(296,"h3",47),e(297,"Stack Buffers"),t(),i(298,"p",14),e(299,"8KB stack buffers for I/O - heap only when required"),t()(),i(300,"div",46)(301,"h3",47),e(302,"LTO + Strip"),t(),i(303,"p",14),e(304,"Fat LTO, size optimization (opt-level=z), symbol stripping"),t()(),i(305,"div",46)(306,"h3",47),e(307,"Custom Allocator"),t(),i(308,"p",14),e(309,"libc::malloc-based global allocator - no jemalloc bloat"),t()()()(),i(310,"section")(311,"h2",21),e(312,"Run Benchmarks"),t(),i(313,"div",48)(314,"div",49),e(315,"# Compare against BusyBox"),t(),i(316,"div",50)(317,"div")(318,"span",51),e(319,"$"),t(),e(320," ./scripts/benchmark-compare.sh"),t()(),i(321,"div",52),e(322,"# Run Criterion benchmarks"),t(),i(323,"div",50)(324,"div")(325,"span",51),e(326,"$"),t(),e(327," cargo bench"),t()(),i(328,"div",52),e(329,"# Quick comparison with hyperfine"),t(),i(330,"div",50)(331,"div")(332,"span",51),e(333,"$"),t(),e(334," hyperfine './target/release/armybox true' 'busybox true'"),t()()()()()())},dependencies:[r],encapsulation:2})};export{d as BenchmarksComponent};
